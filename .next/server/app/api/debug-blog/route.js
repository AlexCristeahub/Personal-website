"use strict";(()=>{var e={};e.id=917,e.ids=[917],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},1560:(e,t,o)=>{o.r(t),o.d(t,{originalPathname:()=>D,patchFetch:()=>b,requestAsyncStorage:()=>p,routeModule:()=>c,serverHooks:()=>g,staticGenerationAsyncStorage:()=>d});var r={};o.r(r),o.d(r,{GET:()=>u});var s=o(3278),n=o(5002),a=o(4877),i=o(1309),l=o(941);async function u(){try{console.log("\uD83D\uDD0D Debug: Starting blog posts fetch...");let e=await (0,l.u3)();return console.log("\uD83D\uDD0D Debug: Fetched posts:",e.length),console.log("\uD83D\uDD0D Debug: First post:",e[0]),i.NextResponse.json({success:!0,count:e.length,posts:e,debug:{hasNotionToken:!!process.env.NOTION_TOKEN,hasNotionDatabase:!!process.env.NOTION_DATABASE_ID,notionDatabaseId:process.env.NOTION_DATABASE_ID}})}catch(e){return console.error("\uD83D\uDD0D Debug: Error in blog API:",e),i.NextResponse.json({success:!1,error:e instanceof Error?e.message:"Unknown error",stack:e instanceof Error?e.stack:void 0,debug:{hasNotionToken:!!process.env.NOTION_TOKEN,hasNotionDatabase:!!process.env.NOTION_DATABASE_ID,notionDatabaseId:process.env.NOTION_DATABASE_ID}},{status:500})}}let c=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/debug-blog/route",pathname:"/api/debug-blog",filename:"route",bundlePath:"app/api/debug-blog/route"},resolvedPagePath:"/Users/alex/Downloads/personal/Personal-website/app/api/debug-blog/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:p,staticGenerationAsyncStorage:d,serverHooks:g}=c,D="/api/debug-blog/route";function b(){return(0,a.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:d})}},941:(e,t,o)=>{o.d(t,{u3:()=>n});let r=[{id:"1",title:"Welcome to My Blog",slug:"welcome",published:!0,publishedDate:"2024-01-01",lastEditedTime:"2024-01-01",tags:["welcome","blog"],excerpt:"Welcome to my personal blog where I share thoughts on technology and entrepreneurship.",cover:""}],s=null;if(process.env.NOTION_TOKEN)try{let{Client:e}=o(9081);s=new e({auth:process.env.NOTION_TOKEN})}catch(e){console.warn("Notion client initialization failed, using mock data")}let n=async function(){if(!s||!process.env.NOTION_DATABASE_ID)return console.warn("Using mock data for static generation"),r;try{return(await s.databases.query({database_id:process.env.NOTION_DATABASE_ID,filter:{property:"Published",checkbox:{equals:!0}},sorts:[{property:"Published Date",direction:"descending"}]})).results.map(e=>{let t=e.properties;return{id:e.id,title:t.Title?.title?.[0]?.plain_text||"Untitled",slug:t.Slug?.rich_text?.[0]?.plain_text||"",published:t.Published?.checkbox||!1,publishedDate:t["Published Date"]?.date?.start||"",lastEditedTime:e.last_edited_time,tags:t.Tags?.multi_select?.map(e=>e.name)||[],excerpt:t.Excerpt?.rich_text?.[0]?.plain_text||"",cover:e.cover?.external?.url||e.cover?.file?.url||""}})}catch(e){return console.error("Error fetching blog posts:",e),r}}}};var t=require("../../../webpack-runtime.js");t.C(e);var o=e=>t(t.s=e),r=t.X(0,[787,793],()=>o(1560));module.exports=r})();