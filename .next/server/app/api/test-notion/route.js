"use strict";(()=>{var e={};e.id=39,e.ids=[39],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},5395:(e,t,s)=>{s.r(t),s.d(t,{originalPathname:()=>D,patchFetch:()=>P,requestAsyncStorage:()=>c,routeModule:()=>p,serverHooks:()=>g,staticGenerationAsyncStorage:()=>d});var r={};s.r(r),s.d(r,{GET:()=>i});var o=s(3278),a=s(5002),n=s(4877),l=s(9081),u=s(1309);async function i(){try{let e=new l.Client({auth:process.env.NOTION_TOKEN});console.log("\uD83D\uDD0D Testing standard Notion API...");let t=await e.databases.query({database_id:process.env.NOTION_DATABASE_ID,filter:{property:"Published",checkbox:{equals:!0}}});console.log("✅ Standard API - Found",t.results.length,"pages");let s=t.results.map(e=>{let t=e.properties;console.log("\uD83D\uDCCA Page properties:",Object.keys(t)),console.log("\uD83D\uDCCA Tags property:",t.Tags);let s=t.Tags?.multi_select?.map(e=>e.name)||[];return console.log("\uD83D\uDCCA Extracted tags:",s),{id:e.id,title:t.Title?.title?.[0]?.plain_text||"Untitled",published:t.Published?.checkbox||!1,tags:s,rawTagsProperty:t.Tags}}),r=s.flatMap(e=>e.tags);return console.log("\uD83C\uDFF7️ All tags found:",r),u.NextResponse.json({success:!0,totalPosts:s.length,posts:s,allTags:[...new Set(r)],debug:{firstPostProperties:t.results[0]?Object.keys(t.results[0].properties):[],firstPostTagsRaw:t.results[0]?t.results[0].properties.Tags:null}})}catch(e){return console.error("❌ Standard API Error:",e),u.NextResponse.json({success:!1,error:e.message,stack:e.stack},{status:500})}}let p=new o.AppRouteRouteModule({definition:{kind:a.x.APP_ROUTE,page:"/api/test-notion/route",pathname:"/api/test-notion",filename:"route",bundlePath:"app/api/test-notion/route"},resolvedPagePath:"/Users/alex/Downloads/personal/Personal-website/app/api/test-notion/route.ts",nextConfigOutput:"",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:g}=p,D="/api/test-notion/route";function P(){return(0,n.patchFetch)({serverHooks:g,staticGenerationAsyncStorage:d})}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[787,793],()=>s(5395));module.exports=r})();