(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[785],{4890:function(e,s,r){Promise.resolve().then(r.bind(r,8769))},8769:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return i}});var t=r(7437),n=r(2265),o=r(257);function i(){var e,s;let[r,i]=(0,n.useState)(null),[l,a]=(0,n.useState)(!0),[c,u]=(0,n.useState)(null),[d,h]=(0,n.useState)(null);return(0,n.useEffect)(()=>{(async function(){try{a(!0),console.log("\uD83D\uDD0D Testing API connection...");let e=await fetch("/api/blog",{cache:"no-store"});if(h(e.status),console.log("\uD83D\uDCE1 Response status:",e.status),!e.ok)throw Error("API returned ".concat(e.status,": ").concat(e.statusText));let s=await e.json();console.log("\uD83D\uDCCA API Response:",s),i(s)}catch(e){console.error("❌ API Test Error:",e),u(e instanceof Error?e.message:"Unknown error")}finally{a(!1)}})()},[]),(0,t.jsxs)("div",{className:"p-8 max-w-4xl mx-auto",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-6",children:"API Test Results"}),(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"bg-gray-100 dark:bg-gray-800 p-4 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Environment Variables"}),(0,t.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("p",{children:["NOTION_TOKEN: ",o.env.NOTION_TOKEN?"✅ Set":"❌ Missing"]}),(0,t.jsxs)("p",{children:["NOTION_DATABASE_ID: ",o.env.NOTION_DATABASE_ID?"✅ Set":"❌ Missing"]}),(0,t.jsxs)("p",{children:["NODE_ENV: ","production"]})]})]}),(0,t.jsxs)("div",{className:"bg-blue-100 dark:bg-blue-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"API Response"}),(0,t.jsxs)("p",{children:["Status: ",d||"Not yet called"]}),(0,t.jsxs)("p",{children:["Loading: ",l?"Yes":"No"]}),(0,t.jsxs)("p",{children:["Error: ",c||"None"]})]}),c&&(0,t.jsxs)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded",children:[(0,t.jsx)("h2",{className:"font-bold",children:"Error Details:"}),(0,t.jsx)("p",{children:c})]}),l&&(0,t.jsx)("div",{className:"bg-yellow-100 dark:bg-yellow-900/20 p-4 rounded-lg",children:(0,t.jsx)("p",{children:"Testing API connection..."})}),r&&(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"bg-green-100 dark:bg-green-900/20 p-4 rounded-lg",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-3",children:"Success! Data Found:"}),(0,t.jsxs)("p",{children:["Posts found: ",Array.isArray(r)?r.length:(null===(e=r.posts)||void 0===e?void 0:e.length)||0]}),(0,t.jsxs)("p",{children:["Data type: ",typeof r]}),(0,t.jsxs)("p",{children:["Is array: ",Array.isArray(r)?"Yes":"No"]})]}),(0,t.jsxs)("details",{className:"bg-gray-50 dark:bg-gray-900 p-4 rounded-lg",children:[(0,t.jsx)("summary",{className:"cursor-pointer font-semibold",children:"Raw API Response (Click to expand)"}),(0,t.jsx)("pre",{className:"mt-4 text-xs overflow-auto max-h-96 bg-white dark:bg-black p-4 rounded border",children:JSON.stringify(r,null,2)})]}),(null===(s=Array.isArray(r)?r:r.posts)||void 0===s?void 0:s.length)>0&&(0,t.jsxs)("div",{className:"bg-blue-50 dark:bg-blue-950/20 p-4 rounded-lg",children:[(0,t.jsx)("h3",{className:"font-semibold mb-3",children:"Posts Summary:"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(Array.isArray(r)?r:r.posts).slice(0,5).map((e,s)=>{var r;return(0,t.jsxs)("div",{className:"border-l-4 border-blue-400 pl-3",children:[(0,t.jsx)("p",{className:"font-medium",children:e.title||"No title"}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Published: ",e.published?"Yes":"No"]}),(0,t.jsxs)("p",{className:"text-sm text-gray-600",children:["Tags: ",(null===(r=e.tags)||void 0===r?void 0:r.join(", "))||"None"]})]},s)}),(Array.isArray(r)?r:r.posts).length>5&&(0,t.jsxs)("p",{className:"text-sm text-gray-500",children:["... and ",(Array.isArray(r)?r:r.posts).length-5," more posts"]})]})]})]})]})]})}},257:function(e,s,r){"use strict";var t,n;e.exports=(null==(t=r.g.process)?void 0:t.env)&&"object"==typeof(null==(n=r.g.process)?void 0:n.env)?r.g.process:r(4227)},4227:function(e){!function(){var s={229:function(e){var s,r,t,n=e.exports={};function o(){throw Error("setTimeout has not been defined")}function i(){throw Error("clearTimeout has not been defined")}function l(e){if(s===setTimeout)return setTimeout(e,0);if((s===o||!s)&&setTimeout)return s=setTimeout,setTimeout(e,0);try{return s(e,0)}catch(r){try{return s.call(null,e,0)}catch(r){return s.call(this,e,0)}}}!function(){try{s="function"==typeof setTimeout?setTimeout:o}catch(e){s=o}try{r="function"==typeof clearTimeout?clearTimeout:i}catch(e){r=i}}();var a=[],c=!1,u=-1;function d(){c&&t&&(c=!1,t.length?a=t.concat(a):u=-1,a.length&&h())}function h(){if(!c){var e=l(d);c=!0;for(var s=a.length;s;){for(t=a,a=[];++u<s;)t&&t[u].run();u=-1,s=a.length}t=null,c=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===i||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(s){try{return r.call(null,e)}catch(s){return r.call(this,e)}}}(e)}}function p(e,s){this.fun=e,this.array=s}function m(){}n.nextTick=function(e){var s=Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)s[r-1]=arguments[r];a.push(new p(e,s)),1!==a.length||c||l(h)},p.prototype.run=function(){this.fun.apply(null,this.array)},n.title="browser",n.browser=!0,n.env={},n.argv=[],n.version="",n.versions={},n.on=m,n.addListener=m,n.once=m,n.off=m,n.removeListener=m,n.removeAllListeners=m,n.emit=m,n.prependListener=m,n.prependOnceListener=m,n.listeners=function(e){return[]},n.binding=function(e){throw Error("process.binding is not supported")},n.cwd=function(){return"/"},n.chdir=function(e){throw Error("process.chdir is not supported")},n.umask=function(){return 0}}},r={};function t(e){var n=r[e];if(void 0!==n)return n.exports;var o=r[e]={exports:{}},i=!0;try{s[e](o,o.exports,t),i=!1}finally{i&&delete r[e]}return o.exports}t.ab="//";var n=t(229);e.exports=n}()}},function(e){e.O(0,[971,117,744],function(){return e(e.s=4890)}),_N_E=e.O()}]);